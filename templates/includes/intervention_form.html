{% load staticfiles %}

<!-- Beginning modal-->
        <!-- Modal -->
    <div class="modal fade" id="intervention-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         xmlns="http://www.w3.org/1999/html">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="exampleModalLabel">NEW INTERVENTION</h4>
                    <h5>For: {{ client.first_name }} {{ client.last_name }}</h5>
              </div>
              <div class="modal-body">
                <form id="intervention-entry-form">
                    {% csrf_token %}
                    <!-- Permanently hidden Fields -->

                    <input class="hidden validate-intervention-form-field" name="client" value="{{ client.id }}"/>
                    <input class="hidden validate-intervention-form-field" name="created_by" value="{{ user.id }}"/>
                    <input class="hidden validate-intervention-form-field" name="intervention_id" id="intervention_id" value=""/>
                    <input class="hidden validate-intervention-form-field" name="changed_by" id="changed_by" value="{{ user.id }}"/>

                    <!-- End of Permanently hidden fields -->

                    <div class="form-group">
                      <label for="intervention-type-select">Intervention Type</label>
                      <select id="intervention-type-select" name="intervention_type_code" class="form-control validate-intervention-form-field" >
                      </select>
                    </div>


                    <div class="form-group has-feedback hidden" id="intervention_date_section">
                        <label for="date-of-completion" class="control-label">Date of Completion:</label>
                        <input type="text" class="form-control validate-intervention-form-field" id="date-of-completion"  placeholder="Select date of completion" style="cursor: pointer;"><span class="add-on"><i class="icon-th"></i></span></p>
                        <input type="text" class="form-control validate-intervention-form-field hidden" id="date-of-completion-formatted" name="intervention_date"/>
                        <i class="glyphicon glyphicon-calendar form-control-feedback"></i>
                      <script>
                          $(function() {
                            $( "#date-of-completion" ).datepicker();
                          });
                      </script>
                    </div>


                    <div class="form-group hidden" id="hts_result_section">
                      <label for="intervention-type-select">HTS Test Result</label>
                      <select id="hts-result-select" name="hts_result" class="form-control validate-intervention-form-field">
                          <option value="">Select Option</option>
                          <option value="201">Negative</option>
                          <option value="202">Positive</option>
                          <option value="203">Known Positive</option>
                          <option value="204">Linked to HTS</option>
                      </select>
                    </div>


                    <div class="form-group hidden" id="ccc_number_section">
                        <label for="ccc-number" class="control-label">CCC Number</label>
                        <input type="text" class="form-control validate-intervention-form-field" id="ccc-number" name="client_ccc_number"></input>
                    </div>

                    <div class="form-group hidden" id="pregnancy_test_section">
                      <label for="intervention-type-select">Pregnancy Test Result</label>
                      <select id="pregnancy-result-select" name="pregnancy_test_result" class="form-control validate-intervention-form-field">
                          <option value="">Select Option</option>
                          <option value="102">Not Pregnant</option>
                          <option value="102">Pregnant</option>
                          <option value="103">Linked to HTS</option>
                      </select>
                    </div>

                    <div class="form-group hidden" id="no_of_sessions_section">
                        <label for="number-of-ss-sessions-attended" class="control-label">Number of SS Sessions Attended</label>
                        <input type="number" class="form-control validate-intervention-form-field" id="number-of-ss-sessions-attended" name="no_of_sessions_attended"></input>
                    </div>

                    <div class="form-group hidden" id="notes_section">
                       <label for="comments-text" class="control-label">Comments/Notes</label>
                       <textarea class="form-control validate-intervention-form-field" id="comments-text" name="comment"></textarea>
                    </div>

                    <div class="form-group" id="notes_section">
                        <span id="error-space" class="label" style="color: red;"></span>
                    </div>

                    Updated by <strong>{{ user.first_name }} {{ user.last_name }}</strong> on {% now "d-m-Y" %}
                </form>
              </div>
              <div class="modal-footer">
                <button id="btn_cancel_intervention" type="button" class="btn btn-sm btn-default" data-dismiss="modal"> Cancel </button>
                <button id="btn_save_intervention" type="button" class="btn btn-sm btn-primary" > Save Intervention </button>
              </div>
            </div>
          </div>
    </div>
    <!-- End modal-->
